<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        ul {
            margin:0;
            list-style:none;
            display: none;
        }
        #box>ul {
            display: block;
        }
    </style>
</head>
<body>
    <div id="box">

    </div>
    <script src="jquery-3.1.1.min.js"></script>
<script>
    (function(){

        var date = [
            {
                name:'第一级菜单',
                child:[
                    {name:'选项一'},
                    {name:'选项二'},
                    {
                        name:'选项三',
                        child:[
                            {name:'选项（1）'},
                            {name:'选项（2）'}
                        ]
                    }
                ]
            },
            {
                name:'第一级菜单',
                child:[
                    {name:'选项一'},
                    {name:'选项二'},
                    {name:'选项三'},
                    {
                        name:'选项四',
                        child:[
                            {name:'选项（1）'},
                            {name:'选项（2）'},
                            {
                                name:'选项（3）',
                                child:[
                                    {name:'选项 1-1'},
                                    {name:'选项 1-2'},
                                    {name:'选项 1-3'}
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                name:'第一级菜单',
                child:[
                    {name:'选项一'},
                    {name:'选项二'},
                    {
                        name:'选项三',
                        child:[
                            {name:'选项（1）'},
                            {
                                name:'选项二（2）',
                                child:[
                                    {name:'选项 1-1'},
                                    {name:'选项 1-2'},
                                    {name:'选项 1-3'}
                                ]
                            }
                        ]
                    }
                ]
            }
        ];

        var $box = $('#box');
        var inner = '';

        setChild(date);
        $box.html(inner);

        function setChild(obj){
            inner += '<ul>';
            $(obj).each(function(i, obj2){
                inner += '<li>';
                inner += '<p>'+obj2.name+'</p>';

                if(obj[i].child){
                    setChild(obj2.child);
                }
                inner += '</li>';
            });
            inner += '</ul>';
        }
        var $p = $('p');
        $p.each(function(i, el){
            $(el).click(function(){
                var $next = $(el).next();
                var $uls = $(el).closest('ul').find('ul');
                $uls.each(function(i,ul){
                    if(ul != $next.get(0)){
                        $(ul).css('display','none');
                    }
                });
                if($next){
                    //console.log($next.css('display'));
                    if($next.css('display') == 'block'){
                        $next.css('display','none');
                    }else{
                        $next.css('display','block');
                    }
                }
            })

        });
        //console.log($p.parents('ul'));






    })()
</script>
</body>
</html>